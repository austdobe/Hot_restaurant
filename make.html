<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
   
    <!-- Me attempting to fix by adding specific file path -->
    <script src="/node_modules/cleave.js/dist/cleave.min.js"></script>

    <!-- What the docs say to use... -->
    <script src="cleave.min.js"></script>

    <title>Hot Restaurant - Make a Reservation</title>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12 mb-4">
                <div class="jumbotron">
                    <h1 class="text-center">Make a Reservation</h1>
                    <hr>
                    <h4 class="text-center">Book your seat before they're all gone!</h4>
                    <div style="display: flex; justify-content: center;">
                        <a href="/table"><button id="viewTables" class="btn btn-primary m-1">View Tables</button></a>
                        <a href="/"><button id="reservation" class="btn btn-light m-1">Home</button></a>
                    </div>
                </div>
                <div class="card mb-2">
                    <div class="card-header">
                        Reserve a Table
                    </div>
                    <div class="card-body">
                        <form id="reservation" action="">
                            <div class="form-group">
                                <label for="res-name">Name</label>
                                <input type="text" class="form-control" id="res-name" placeholder="">
                            </div>
                            <div class="form-group">
                                <label for="res-phone">Phone</label>
                                <input type="text" class="form-control" id="res-phone" class="input-phone" placeholder="">
                            </div>
                            <div class="form-group">
                                <label for="res-email">Email</label>
                                <input type="email" class="form-control" id="res-email" placeholder="">
                            </div>
                            <div class="form-group">
                                <label for="res-id">Unique ID</label>
                                <input type="text" class="form-control" id="res-id" placeholder="">
                            </div>
                            <input type="submit" id="res-submit" class="btn btn-primary">
                        </form>
                    </div>
                </div>
                <a href="/api/tables">API Table Link</a> | <a href="/api/wait">API Wait List Link</a>
            </div>        
        </div>
    </div>
    <script type="text/javascript">

        $("addBtn").on("click", function(){
        event.preventDefault();
        var newTable = {
            name: $("#res-name").val().trim(),
            phone: $("#res-phone").val().trim(),
            email: $("#res-email").val().trim(),
            uniqueID: $("#res-id").val().trim()
        };
    });

       $.post("/api/tables", newTable)
        .then(function(data){
            console.log("Table added")
        });

        //...Maybe need to include specific file path??? That's my only other thought...
        var Cleave = require('cleave.js');

        //There is a specific phone number formatting but it requires additional files, so I'm justing this format...
        new Cleave('.input-phone', {
            numericOnly: true,
            blocks: [0, 3, 0, 3, 4],
            delimiters: ["(", ")", " ", "-"]
        });

    </script>
</body>
</html>